import{_ as s,c as a,o as n,a as l}from"./app.c4aa1f4f.js";const F=JSON.parse('{"title":"centos 操作","description":"","frontmatter":{},"headers":[{"level":2,"title":"1、Centos 查看端口占用情况和开启端口命令","slug":"_1、centos-查看端口占用情况和开启端口命令","link":"#_1、centos-查看端口占用情况和开启端口命令","children":[]}],"relativePath":"end/os/centos操作.md","lastUpdated":1673417607000}'),p={name:"end/os/centos操作.md"},o=l(`<h1 id="centos-操作" tabindex="-1">centos 操作 <a class="header-anchor" href="#centos-操作" aria-hidden="true">#</a></h1><p>配置 ssh 登录</p><p>Mac 下创建 id_rsa_qq.pub, 然后去腾讯云配置下密钥</p><p>创建新登录用户</p><p><a href="https://cloud.tencent.com/developer/article/1058742" target="_blank" rel="noreferrer">在 centos7 中添加一个新用户，并授权</a><a href="https://blog.csdn.net/wang1144/article/details/70255506" target="_blank" rel="noreferrer">腾讯云新用户赋予 root 权限</a><a href="https://www.cnblogs.com/luxj/p/7654974.html" target="_blank" rel="noreferrer">【Linux 使用及问题解决】用户登录时显示 -bash-4.2$ 问题</a><a href="https://blog.csdn.net/sxkjkoukou/article/details/8982855" target="_blank" rel="noreferrer">总结：进普通用户出现-bash-4.1$的解决方法</a></p><h2 id="_1、centos-查看端口占用情况和开启端口命令" tabindex="-1">1、Centos 查看端口占用情况和开启端口命令 <a class="header-anchor" href="#_1、centos-查看端口占用情况和开启端口命令" aria-hidden="true">#</a></h2><p><code>lsof -i tcp:80</code> 查看 80 端口的使用情况 <code>netstat -ntlp</code> 列出所有端口</p><p>1、开启端口（80 端口为例）</p><p>方法 1</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">sbin</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">I INPUT </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">p tcp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">dport </span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">j ACCEPT </span><span style="color:#676E95;font-style:italic;">//修改</span></span>
<span class="line"><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">init</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables save </span><span style="color:#676E95;font-style:italic;">//保存修改</span></span>
<span class="line"><span style="color:#A6ACCD;">service iptables restart  </span><span style="color:#676E95;font-style:italic;">//重启防火墙生效</span></span>
<span class="line"></span></code></pre></div><p>方法 2</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">vi </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">sysconfig</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables </span><span style="color:#676E95;font-style:italic;">//打开文件</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">A INPUT </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">p tcp </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m state </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">state NEW </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m tcp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">dport </span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">j ACCEPT </span><span style="color:#676E95;font-style:italic;">//插入语句</span></span>
<span class="line"><span style="color:#A6ACCD;">service iptables restart</span><span style="color:#676E95;font-style:italic;">//重启防火墙生效</span></span>
<span class="line"></span></code></pre></div><p>2、关闭端口</p><p>方法 1</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">sbin</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">I INPUT </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">p tcp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">dport </span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">j DROP  </span><span style="color:#676E95;font-style:italic;">//写入</span></span>
<span class="line"><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">init</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables save</span><span style="color:#676E95;font-style:italic;">//保存修改</span></span>
<span class="line"><span style="color:#A6ACCD;">service iptables restart</span><span style="color:#676E95;font-style:italic;">//重启防火墙生效</span></span>
<span class="line"></span></code></pre></div><p>方法 2</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">vi </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> etc </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> sysconfig </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> iptables</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//打开文件</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">A INPUT </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">p tcp </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m state </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">state NEW </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m tcp </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">dport </span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">j DROP </span><span style="color:#676E95;font-style:italic;">//添加</span></span>
<span class="line"><span style="color:#A6ACCD;">service iptables restart </span><span style="color:#676E95;font-style:italic;">//重启防火墙生效</span></span>
<span class="line"><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">init</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables status </span><span style="color:#676E95;font-style:italic;">//查看端口状态</span></span>
<span class="line"></span></code></pre></div>`,17),e=[o];function t(c,r,D,y,C,i){return n(),a("div",null,e)}const d=s(p,[["render",t]]);export{F as __pageData,d as default};
